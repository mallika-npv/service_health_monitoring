<html>
<head>
<title>CanvasJS Python Charts</title>
<script>
    window.onload = function () { 
      var data = JSON.parse('{{ datapoints|json_script:"datapoints" }}');
      var dataPoints = []
 
      for(var i=0; i<data.length; i++) {
        dataPoints.push({x: data[i].fields.date, y: data[i].fields.dt})
      }
      
      var chart = new CanvasJS.Chart("chartContainer", {
        theme: "light2",
        exportEnabled: true,
        animationEnabled: true,
        title: {
          text: "seviced"
        },
        subtitles: [{
          text: "Chart with DateTime Data from Database"
        }],
        axisY: {
          title: "downtime"
        },
        data: [{
          type: "line",
          xValueType: "dateTime",
          xValueFormatString: "MMM YYYY",
          dataPoints: dataPoints
        }]
      });
      chart.render();
    }
</script>
</head>
<body>
    <div id="chartContainer" style="height: 360px; width: 100%;"></div>
    <script src="{% static 'canvasjs.min.js' %}"></script>
</body>
</html>